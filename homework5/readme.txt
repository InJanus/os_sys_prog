make sure to add the -pthread flag in gcc for pthread.h to work